{"format_version":"0.2","terraform_version":"1.0.9","variables":{"action":{"value":"kms.secrets.rotate"},"agname":{"value":"ag1"},"description":{"value":"Description for role"},"displayname":{"value":"Role1Display"},"ibmcloud_api_key":{"value":"EQY_EO76jKrh3mHjCzsM_-eiqu2-3etQp5IC0rquo2t4"},"name":{"value":"Role3"},"servicename":{"value":"kms"}},"planned_values":{"outputs":{"roles":{"sensitive":false,"value":[{"description":"As a viewer, you can view service instances, but you can't modify them.","name":"Viewer","type":"platform"},{"description":"As an administrator, you can perform all platform actions based on the resource this role is being assigned, including assigning access policies to other users.","name":"Administrator","type":"platform"},{"description":"As an operator, you can perform platform actions required to configure and operate service instances, such as viewing a service's dashboard.","name":"Operator","type":"platform"},{"description":"As an editor, you can perform all platform actions except for managing the account and assigning access policies.","name":"Editor","type":"platform"},{"description":"As a writer, you have permissions beyond the reader role, including creating and editing service-specific resources.","name":"Writer","type":"service"},{"description":"As a manager, you have permissions beyond the writer role to complete privileged actions as defined by the service. In addition, you can create and edit service-specific resources.","name":"Manager","type":"service"},{"description":"As a reader plus, you can perform read-only actions within Key Protect such as viewing service-specific resources. You can also access key material for standard keys.","name":"ReaderPlus","type":"service"},{"description":"As a reader, you can perform read-only actions within a service such as viewing service-specific resources.","name":"Reader","type":"service"},{"description":"Role for purging key.","name":"KeyPurge","type":"service"},{"description":"Description for role","name":"Role1Display","type":"custom"}]}},"root_module":{"resources":[{"address":"ibm_iam_access_group.accgrp","mode":"managed","type":"ibm_iam_access_group","name":"accgrp","provider_name":"registry.terraform.io/ibm-cloud/ibm","schema_version":0,"values":{"description":null,"name":"ag1","tags":null},"sensitive_values":{}},{"address":"ibm_iam_access_group_policy.policy","mode":"managed","type":"ibm_iam_access_group_policy","name":"policy","provider_name":"registry.terraform.io/ibm-cloud/ibm","schema_version":0,"values":{"account_management":false,"resources":[{"attributes":null,"region":null,"resource":null,"resource_group_id":null,"resource_instance_id":null,"resource_type":null,"service":"kms"}],"roles":["Role1Display","Viewer"],"tags":["tag1"]},"sensitive_values":{"resources":[{}],"roles":[false,false],"tags":[false]}},{"address":"ibm_iam_custom_role.customrole","mode":"managed","type":"ibm_iam_custom_role","name":"customrole","provider_name":"registry.terraform.io/ibm-cloud/ibm","schema_version":0,"values":{"actions":["kms.registrations.merge"],"description":"Description for role","display_name":"Role1Display","name":"Role3","service":"kms"},"sensitive_values":{"actions":[false]}}]}},"resource_changes":[{"address":"ibm_iam_access_group.accgrp","mode":"managed","type":"ibm_iam_access_group","name":"accgrp","provider_name":"registry.terraform.io/ibm-cloud/ibm","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"ag1","tags":null},"after_unknown":{"id":true,"version":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"ibm_iam_access_group_policy.policy","mode":"managed","type":"ibm_iam_access_group_policy","name":"policy","provider_name":"registry.terraform.io/ibm-cloud/ibm","change":{"actions":["create"],"before":null,"after":{"account_management":false,"resources":[{"attributes":null,"region":null,"resource":null,"resource_group_id":null,"resource_instance_id":null,"resource_type":null,"service":"kms"}],"roles":["Role1Display","Viewer"],"tags":["tag1"]},"after_unknown":{"access_group_id":true,"id":true,"resources":[{}],"roles":[false,false],"tags":[false],"version":true},"before_sensitive":false,"after_sensitive":{"resources":[{}],"roles":[false,false],"tags":[false]}}},{"address":"ibm_iam_custom_role.customrole","mode":"managed","type":"ibm_iam_custom_role","name":"customrole","provider_name":"registry.terraform.io/ibm-cloud/ibm","change":{"actions":["create"],"before":null,"after":{"actions":["kms.registrations.merge"],"description":"Description for role","display_name":"Role1Display","name":"Role3","service":"kms"},"after_unknown":{"actions":[false],"crn":true,"id":true,"resource_controller_url":true,"resource_crn":true,"resource_name":true},"before_sensitive":false,"after_sensitive":{"actions":[false]}}}],"output_changes":{"roles":{"actions":["no-op"],"before":[{"description":"As a viewer, you can view service instances, but you can't modify them.","name":"Viewer","type":"platform"},{"description":"As an administrator, you can perform all platform actions based on the resource this role is being assigned, including assigning access policies to other users.","name":"Administrator","type":"platform"},{"description":"As an operator, you can perform platform actions required to configure and operate service instances, such as viewing a service's dashboard.","name":"Operator","type":"platform"},{"description":"As an editor, you can perform all platform actions except for managing the account and assigning access policies.","name":"Editor","type":"platform"},{"description":"As a writer, you have permissions beyond the reader role, including creating and editing service-specific resources.","name":"Writer","type":"service"},{"description":"As a manager, you have permissions beyond the writer role to complete privileged actions as defined by the service. In addition, you can create and edit service-specific resources.","name":"Manager","type":"service"},{"description":"As a reader plus, you can perform read-only actions within Key Protect such as viewing service-specific resources. You can also access key material for standard keys.","name":"ReaderPlus","type":"service"},{"description":"As a reader, you can perform read-only actions within a service such as viewing service-specific resources.","name":"Reader","type":"service"},{"description":"Role for purging key.","name":"KeyPurge","type":"service"},{"description":"Description for role","name":"Role1Display","type":"custom"}],"after":[{"description":"As a viewer, you can view service instances, but you can't modify them.","name":"Viewer","type":"platform"},{"description":"As an administrator, you can perform all platform actions based on the resource this role is being assigned, including assigning access policies to other users.","name":"Administrator","type":"platform"},{"description":"As an operator, you can perform platform actions required to configure and operate service instances, such as viewing a service's dashboard.","name":"Operator","type":"platform"},{"description":"As an editor, you can perform all platform actions except for managing the account and assigning access policies.","name":"Editor","type":"platform"},{"description":"As a writer, you have permissions beyond the reader role, including creating and editing service-specific resources.","name":"Writer","type":"service"},{"description":"As a manager, you have permissions beyond the writer role to complete privileged actions as defined by the service. In addition, you can create and edit service-specific resources.","name":"Manager","type":"service"},{"description":"As a reader plus, you can perform read-only actions within Key Protect such as viewing service-specific resources. You can also access key material for standard keys.","name":"ReaderPlus","type":"service"},{"description":"As a reader, you can perform read-only actions within a service such as viewing service-specific resources.","name":"Reader","type":"service"},{"description":"Role for purging key.","name":"KeyPurge","type":"service"},{"description":"Description for role","name":"Role1Display","type":"custom"}],"after_unknown":false,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"0.2","terraform_version":"1.0.9","values":{"outputs":{"roles":{"sensitive":false,"value":[{"description":"As a viewer, you can view service instances, but you can't modify them.","name":"Viewer","type":"platform"},{"description":"As an administrator, you can perform all platform actions based on the resource this role is being assigned, including assigning access policies to other users.","name":"Administrator","type":"platform"},{"description":"As an operator, you can perform platform actions required to configure and operate service instances, such as viewing a service's dashboard.","name":"Operator","type":"platform"},{"description":"As an editor, you can perform all platform actions except for managing the account and assigning access policies.","name":"Editor","type":"platform"},{"description":"As a writer, you have permissions beyond the reader role, including creating and editing service-specific resources.","name":"Writer","type":"service"},{"description":"As a manager, you have permissions beyond the writer role to complete privileged actions as defined by the service. In addition, you can create and edit service-specific resources.","name":"Manager","type":"service"},{"description":"As a reader plus, you can perform read-only actions within Key Protect such as viewing service-specific resources. You can also access key material for standard keys.","name":"ReaderPlus","type":"service"},{"description":"As a reader, you can perform read-only actions within a service such as viewing service-specific resources.","name":"Reader","type":"service"},{"description":"Role for purging key.","name":"KeyPurge","type":"service"},{"description":"Description for role","name":"Role1Display","type":"custom"}]}},"root_module":{"resources":[{"address":"data.ibm_iam_role_actions.test","mode":"data","type":"ibm_iam_role_actions","name":"test","provider_name":"registry.terraform.io/ibm-cloud/ibm","schema_version":0,"values":{"id":"kms","manager":["kms.secrets.create","kms.secrets.read","kms.secrets.list","kms.secrets.delete","kms.secrets.wrap","kms.secrets.unwrap","kms.secrets.rotate","kms.lockers.read","kms.lockers.create","kms.lockers.list","kms.policies.read","kms.policies.write","kms.secrets.rewrap","kms.importtoken.read","kms.importtoken.create","kms.registrations.list","kms.registrations.listforkey","kms.registrations.delete","kms.registrations.merge","kms.registrations.write","kms.registrations.create","kms.registrations.deactivate","kms.instancepolicies.read","kms.instancepolicies.write","kms.secrets.setkeyfordeletion","kms.secrets.unsetkeyfordeletion","kms.secrets.readmetadata","kms.secrets.listkeyversions","kms.keyversions.list","kms.secrets.restore","kms.secrets.disable","kms.secrets.enable","kms.secrets.eventack","kms.instance.readipwhitelistport","kms.instance.readallowedipport","kms.secrets.sync","kms.secrets.createalias","kms.secrets.deletealias","kms.keyrings.list","kms.keyrings.create","kms.keyrings.delete","kms.secrets.patch","global-search-tagging.resource.read","iam.policy.read"],"reader":["kms.secrets.list","kms.secrets.wrap","kms.secrets.unwrap","kms.secrets.rewrap","kms.registrations.list","kms.registrations.listforkey","kms.registrations.delete","kms.registrations.merge","kms.registrations.write","kms.registrations.create","kms.registrations.deactivate","kms.secrets.readmetadata","kms.secrets.listkeyversions","kms.keyversions.list","kms.secrets.eventack","kms.keyrings.list","global-search-tagging.resource.read","iam.policy.read"],"reader_plus":["kms.secrets.read","kms.secrets.list","kms.secrets.wrap","kms.secrets.unwrap","kms.secrets.rewrap","kms.registrations.list","kms.registrations.listforkey","kms.registrations.delete","kms.registrations.merge","kms.registrations.write","kms.registrations.create","kms.registrations.deactivate","kms.secrets.readmetadata","kms.secrets.listkeyversions","kms.keyversions.list","kms.secrets.eventack","kms.keyrings.list"],"service":"kms","writer":["kms.secrets.create","kms.secrets.read","kms.secrets.list","kms.secrets.wrap","kms.secrets.unwrap","kms.secrets.rotate","kms.lockers.read","kms.lockers.create","kms.lockers.list","kms.secrets.rewrap","kms.importtoken.read","kms.importtoken.create","kms.registrations.list","kms.registrations.listforkey","kms.registrations.delete","kms.registrations.merge","kms.registrations.write","kms.registrations.create","kms.registrations.deactivate","kms.secrets.setkeyfordeletion","kms.secrets.unsetkeyfordeletion","kms.secrets.readmetadata","kms.secrets.listkeyversions","kms.keyversions.list","kms.secrets.eventack","kms.secrets.sync","kms.secrets.createalias","kms.secrets.deletealias","kms.keyrings.list","kms.keyrings.create","global-search-tagging.resource.read","iam.policy.read"]},"sensitive_values":{"manager":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],"reader":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],"reader_plus":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],"writer":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]}},{"address":"data.ibm_iam_roles.test","mode":"data","type":"ibm_iam_roles","name":"test","provider_name":"registry.terraform.io/ibm-cloud/ibm","schema_version":0,"values":{"id":"14636eec74bb4506b1fd9f39b3e02bc4","roles":[{"description":"As a viewer, you can view service instances, but you can't modify them.","name":"Viewer","type":"platform"},{"description":"As an administrator, you can perform all platform actions based on the resource this role is being assigned, including assigning access policies to other users.","name":"Administrator","type":"platform"},{"description":"As an operator, you can perform platform actions required to configure and operate service instances, such as viewing a service's dashboard.","name":"Operator","type":"platform"},{"description":"As an editor, you can perform all platform actions except for managing the account and assigning access policies.","name":"Editor","type":"platform"},{"description":"As a writer, you have permissions beyond the reader role, including creating and editing service-specific resources.","name":"Writer","type":"service"},{"description":"As a manager, you have permissions beyond the writer role to complete privileged actions as defined by the service. In addition, you can create and edit service-specific resources.","name":"Manager","type":"service"},{"description":"As a reader plus, you can perform read-only actions within Key Protect such as viewing service-specific resources. You can also access key material for standard keys.","name":"ReaderPlus","type":"service"},{"description":"As a reader, you can perform read-only actions within a service such as viewing service-specific resources.","name":"Reader","type":"service"},{"description":"Role for purging key.","name":"KeyPurge","type":"service"},{"description":"Description for role","name":"Role1Display","type":"custom"}],"service":"kms"},"sensitive_values":{"roles":[{},{},{},{},{},{},{},{},{},{}]}}]}}},"configuration":{"provider_config":{"ibm":{"name":"ibm","expressions":{"ibmcloud_api_key":{"constant_value":"EQY_EO76jKrh3mHjCzsM_-eiqu2-3etQp5IC0rquo2t4"}}}},"root_module":{"outputs":{"roles":{"expression":{"references":["data.ibm_iam_roles.test.roles","data.ibm_iam_roles.test"]}}},"resources":[{"address":"ibm_iam_access_group.accgrp","mode":"managed","type":"ibm_iam_access_group","name":"accgrp","provider_config_key":"ibm","expressions":{"name":{"references":["var.agname"]}},"schema_version":0},{"address":"ibm_iam_access_group_policy.policy","mode":"managed","type":"ibm_iam_access_group_policy","name":"policy","provider_config_key":"ibm","expressions":{"access_group_id":{"references":["ibm_iam_access_group.accgrp.id","ibm_iam_access_group.accgrp"]},"resources":[{"service":{"references":["var.servicename"]}}],"roles":{"references":["ibm_iam_custom_role.customrole.display_name","ibm_iam_custom_role.customrole"]},"tags":{"constant_value":["tag1"]}},"schema_version":0},{"address":"ibm_iam_custom_role.customrole","mode":"managed","type":"ibm_iam_custom_role","name":"customrole","provider_config_key":"ibm","expressions":{"actions":{"references":["data.ibm_iam_role_actions.test.manager[18]","data.ibm_iam_role_actions.test.manager","data.ibm_iam_role_actions.test"]},"description":{"references":["var.description"]},"display_name":{"references":["var.displayname"]},"name":{"references":["var.name"]},"service":{"references":["var.servicename"]}},"schema_version":0},{"address":"data.ibm_iam_role_actions.test","mode":"data","type":"ibm_iam_role_actions","name":"test","provider_config_key":"ibm","expressions":{"service":{"references":["var.servicename"]}},"schema_version":0},{"address":"data.ibm_iam_roles.test","mode":"data","type":"ibm_iam_roles","name":"test","provider_config_key":"ibm","expressions":{"service":{"references":["var.servicename"]}},"schema_version":0}],"variables":{"action":{"default":"kms.secrets.rotate"},"agname":{"default":"ag1"},"description":{"default":"Description for role"},"displayname":{"default":"Role1Display"},"ibmcloud_api_key":{"default":""},"name":{"default":"Role3"},"servicename":{"default":"kms"}}}}}